import{j as e}from"./index-Dp2GN1g2.js";import{b as n}from"./vendor-BO-UU5I_.js";import{C as $,H as B}from"./CompletionModal-CecNtYaJ.js";const L=[{name:"The Couple",difficulty:1,words:["SOFIA","JOEL","BRIDE","GROOM"]},{name:"As One",difficulty:2,words:["UNION","TIED","WED","YOKED"]},{name:"Synonyms for Ceremony/Ritual",difficulty:3,words:["CEREMONY","RITUAL","TRADITION","RITE"]},{name:"French Loan Words",difficulty:4,words:["BOUTONNIÃ‰RE","NUPTIAL","BOUQUET","FIANCÃ‰E"]}],p={categories:L},G={1:"bg-nyt-yellow",2:"bg-nyt-green",3:"bg-nyt-blue",4:"bg-nyt-purple"},N="connections-wedding-progress";function V(){const[d,x]=n.useState([]),[r,m]=n.useState([]),[w,S]=n.useState([]),[i,j]=n.useState(0),[I,f]=n.useState(""),[g,u]=n.useState(!1),[R,c]=n.useState(!1),[y,b]=n.useState(!1),[k,C]=n.useState(null),[v,O]=n.useState(null),[P,z]=n.useState(!1),[A,M]=n.useState(!1);n.useEffect(()=>{localStorage.getItem("connections-wedding-how-to-play")||(M(!0),localStorage.setItem("connections-wedding-how-to-play","true"))},[]),n.useEffect(()=>{const s=localStorage.getItem(N);let a=null;if(s){const t=JSON.parse(s),l=t.solved&&t.solved.length===p.categories.length,o=t.words&&t.words.length>0;l||o?a=t:(console.error("Corrupted/Blank save state detected. Starting new game."),localStorage.removeItem(N))}if(a){const t=a;x(t.words||[]),m(t.selected||[]),S(t.solved||[]),j(t.mistakes||0),u(t.isGameOver||!1),b(t.viewOnlyMode||!1),O(null),C(null),(t.solved&&t.solved.length===p.categories.length||t.isGameOver)&&(b(!0),u(!0),c(!1))}else{const t=p.categories.flatMap(l=>l.words.map(o=>({word:o,category:l.name,difficulty:l.difficulty})));x(t.sort(()=>Math.random()-.5)),m([]),S([]),j(0),u(!1),c(!1),b(!1)}},[]),n.useEffect(()=>{(d.length+w.reduce((a,t)=>a+t.words.length,0)===16||g)&&localStorage.setItem(N,JSON.stringify({words:d,selected:r,solved:w,mistakes:i,isGameOver:g,viewOnlyMode:y}))},[d,r,w,i,g,y]);const H=s=>{g||y||(r.includes(s)?m(r.filter(a=>a!==s)):r.length<4&&m([...r,s]))},F=()=>{if(r.length!==4)return;const s=r.map(t=>d.find(l=>l.word===t)),a=[...new Set(s.map(t=>t.category))];if(a.length===1){const t=p.categories.find(l=>l.name===a[0]);f(`Correct! ${t.name}`),C({name:t.name,words:r,difficulty:t.difficulty}),setTimeout(()=>{C(null),O({name:t.name,words:r,difficulty:t.difficulty}),z(!1),setTimeout(()=>z(!0),800),setTimeout(()=>{S(l=>{const o=[...l,{name:t.name,words:r,difficulty:t.difficulty}];return o.length===p.categories.length&&(u(!0),c(!0),f("Congratulations! You solved the puzzle!")),o}),x(l=>l.filter(o=>!r.includes(o.word))),m(()=>[]),O(null),z(!1)},1200)},400),setTimeout(()=>f(""),2e3)}else{const t=i+1;j(t);const l=Math.max(...a.map(o=>s.filter(E=>E.category===o).length));if(f(l===3?"One away...":"Not quite!"),t>=4){u(!0),c(!0),f("Game Over! You ran out of tries.");const o=w.map(h=>h.name),E=p.categories.filter(h=>!o.includes(h.name)).map(h=>({...h,isRevealed:!0}));S(h=>[...h,...E]),x([])}m([]),setTimeout(()=>f(""),2e3)}},D=()=>m([]),U=()=>x([...d].sort(()=>Math.random()-.5)),T=()=>{localStorage.removeItem(N);const s=p.categories.flatMap(a=>a.words.map(t=>({word:t,category:a.name,difficulty:a.difficulty})));x(s.sort(()=>Math.random()-.5)),m([]),S([]),j(0),u(!1),c(!1),b(!1),f("")},W=()=>{c(!1),b(!0)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[e.jsx($,{isOpen:R,icon:i<4?"ðŸŽ‰":"ðŸ˜”",title:i<4?"Congratulations!":"Unlucky!",message:i<4?i===0?"Perfect!":"You did it!":"Better luck next time!",primaryButtonText:"New Game",secondaryButtonText:"Show Puzzle",onPrimaryAction:T,onSecondaryAction:W,primaryButtonGradient:i<4?"from-yellow-400 to-green-500":"from-gray-500 to-gray-700",stats:[{label:"Score",value:`${w.filter(s=>!s.isRevealed).length}/4`,gradient:i<4?"from-yellow-100 to-green-100 dark:from-yellow-900/30 dark:to-green-900/30":"from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700"}]}),e.jsx(B,{isOpen:A,onClose:()=>M(!1),children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})}),e.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[e.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Connections"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},className:"text-gray-600 dark:text-gray-300",children:"Wedding Edition"}),e.jsx("p",{style:{fontSize:"clamp(0.55rem, 2vw, 0.75rem)"},className:"text-gray-500 dark:text-gray-400 mt-2",children:"Create four groups of four!"})]}),e.jsx("div",{className:"space-y-2 mb-6",children:w.sort((s,a)=>s.difficulty-a.difficulty).map((s,a)=>e.jsxs("div",{className:`${G[s.difficulty]} rounded-lg animate-slide-in p-2 sm:p-3`,style:{minHeight:"calc(100% / 4)"},children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:s.name}),e.jsx("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:s.words.map(t=>e.jsx("div",{className:"aspect-square flex items-center justify-center font-semibold uppercase bg-nyt-beige-light text-gray-900 rounded-md",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:t},t))})]},a))}),!g&&(d.length>0||k||v)&&e.jsxs("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2 mb-6 relative",children:[d.map(s=>{const a=r.includes(s.word),t=k?.words.includes(s.word);return e.jsx("button",{onClick:()=>H(s.word),className:`
                    aspect-square flex items-center justify-center
                    p-1.5 sm:p-3 md:p-4 rounded-lg font-semibold uppercase
                    transition-all duration-400
                    ${a?"bg-nyt-beige-dark text-white scale-95":"bg-nyt-beige-light hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900"}
                    ${t?"transform translate-y-[-100%]":""}
                  `,style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s.word},s.word)}),v&&e.jsx("div",{className:`
                  absolute inset-0 flex justify-center items-center
                  ${G[v.difficulty]} rounded-lg
                  transition-all duration-800
                  ${P?"opacity-0 scale-95":"opacity-100 scale-100"}
                `,style:{zIndex:10},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none space-y-2",children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:v.name}),e.jsx("div",{className:"flex gap-1 sm:gap-2",children:v.words.map(s=>e.jsx("div",{className:"flex items-center justify-center aspect-square px-2 py-1 font-semibold uppercase text-center rounded-md text-gray-900",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s},s))})]})})]}),I&&e.jsx("div",{className:"text-center mb-4 font-semibold dark:text-gray-100",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},children:I}),!g&&!y&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"text-gray-600 dark:text-gray-300",children:"Mistakes remaining:"}),e.jsx("div",{className:"flex gap-1",children:[...Array(4)].map((s,a)=>e.jsx("div",{style:{width:"clamp(10px, 2vw, 12px)",height:"clamp(10px, 2vw, 12px)"},className:`rounded-full ${a<4-i?"bg-gray-700 dark:bg-gray-300":"bg-gray-300 dark:bg-gray-600"}`},a))})]})}),y&&e.jsxs("div",{className:"flex justify-center mb-6 gap-3 sm:gap-4",children:[e.jsx("button",{onClick:T,className:"btn-primary bg-gradient-to-r from-yellow-400 to-green-500",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"New Game"}),e.jsx("button",{onClick:()=>c(!0),className:"btn-secondary",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"Show Score"})]}),!g&&!y&&(d.length>0||k||v)&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-6",children:[e.jsx("button",{onClick:U,className:"btn-control",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Shuffle"}),e.jsx("button",{onClick:D,className:"btn-control",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},disabled:r.length===0,children:"Deselect All"}),e.jsx("button",{onClick:F,className:`btn-control ${r.length===4?"!bg-gray-900 dark:!bg-gray-200 !text-white dark:!text-gray-900 hover:!bg-gray-700 dark:hover:!bg-gray-100":"!bg-gray-300 dark:!bg-gray-600 !text-gray-500 dark:!text-gray-400 cursor-not-allowed"}`,disabled:r.length!==4,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Submit"})]}),g&&!y&&e.jsxs("div",{className:"flex justify-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:T,className:"btn-primary bg-gradient-to-r from-yellow-400 to-green-500",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"New Game"}),e.jsx("button",{onClick:()=>c(!0),className:"btn-secondary",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"Show Score"})]}),e.jsxs("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),e.jsxs("ul",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})]})]})]})}export{V as default};
