import{j as r}from"./index-2ucqjZqr.js";import{b as a}from"./vendor-BO-UU5I_.js";const ye=[["E","C","S","G","I","Y"],["I","N","O","N","R","N"],["A","F","A","D","O","L"],["C","E","R","M","E","I"],["R","U","E","I","V","T"],["Y","E","N","A","O","S"],["N","W","O","D","N","A"],["S","O","L","V","T","O"]],xe=[{word:"CEREMONY",positions:[[3,0],[3,1],[3,2],[4,2],[3,3],[2,4],[1,5],[0,5]],isSpangram:!0,hint:"The main event!"},{word:"REYNOLDA",positions:[[4,0],[5,1],[5,0],[6,0],[7,1],[7,2],[6,3],[5,3]],isSpangram:!1,hint:"The grand barn"},{word:"VOWS",positions:[[7,3],[6,2],[6,1],[7,0]],isSpangram:!1,hint:"Exchanged Promises"},{word:"UNION",positions:[[4,1],[5,2],[4,3],[5,4],[6,4]],isSpangram:!1,hint:"As One"},{word:"RING",positions:[[1,4],[0,4],[1,3],[0,3]],isSpangram:!1,hint:"Symbol of commitment"},{word:"TOAST",positions:[[7,4],[7,5],[6,5],[5,5],[4,5]],isSpangram:!1,hint:"Cheers to the couple!"},{word:"DANCE",positions:[[2,3],[2,2],[1,1],[0,1],[0,0]],isSpangram:!1,hint:"First ___ as husband and wife"},{word:"LOVE",positions:[[4,4],[3,4],[3,5],[2,5]],isSpangram:!1,hint:"The groom lifts to see her face!"},{word:"SOFIA",positions:[[0,2],[1,2],[2,1],[1,0],[2,0]],isSpangram:!1,hint:"It's her special day!"}],se={grid:ye,words:xe},ne=a.memo(({letter:g,row:i,col:c,isSelected:D,isInFound:L,isInSpangram:h,isTapMode:m,onCellClick:j,onCellMouseDown:Y,onCellMouseEnter:M,onCellTouchStart:N,setButtonRef:I})=>{const O=()=>j(i,c),C=()=>Y(i,c),W=()=>M(i,c),b=v=>N(i,c,v);return r.jsx("button",{ref:v=>I(i,c,v),"data-row":i,"data-col":c,onClick:O,onMouseDown:C,onMouseEnter:W,onTouchStart:b,className:`
        w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16
        flex items-center justify-center
        rounded-full font-bold text-lg sm:text-xl md:text-2xl
        transition-all duration-200
        ${D?"bg-blue-500 text-white scale-95":h?"bg-nyt-yellow text-gray-900":L?"bg-nyt-beige-dark text-white":"bg-nyt-beige-light hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900"}
        cursor-pointer select-none
      `,style:{touchAction:m?"auto":"none"},children:g})});ne.displayName="StrandsCell";const x=se.grid,p=se.words,J="wedding-strands-progress";function we(){const[g,i]=a.useState([]),[c,D]=a.useState([]),[L,h]=a.useState(""),[m,j]=a.useState(!1),[Y,M]=a.useState(!1),[N,I]=a.useState(0),[O,C]=a.useState(!1),[W,b]=a.useState(!1),[v,ae]=a.useState(!1),[w,X]=a.useState(!1),k=a.useRef(null),K=a.useRef(null),Z=a.useRef({}),q=a.useRef(!0),A=a.useRef(null),F=a.useRef({centers:{},rects:{}}),E=a.useRef(g),R=a.useRef(W),S=a.useRef(w),T=a.useRef(m),Q=a.useRef(c);a.useEffect(()=>{E.current=g},[g]),a.useEffect(()=>{R.current=W},[W]),a.useEffect(()=>{S.current=w},[w]),a.useEffect(()=>{T.current=m},[m]),a.useEffect(()=>{Q.current=c},[c]);const $=()=>{if(!K.current)return;const e=K.current.getBoundingClientRect(),t={},s={};x.forEach((n,l)=>{n.forEach((d,o)=>{const f=z(l,o),y=Z.current[f];if(y){const u=y.getBoundingClientRect();s[f]=u,t[f]={x:u.left-e.left+u.width/2,y:u.top-e.top+u.height/2}}})}),F.current={centers:t,rects:s}};a.useEffect(()=>($(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)),[]),a.useEffect(()=>{const e=localStorage.getItem(J);if(e){const t=JSON.parse(e);D(t.foundWords||[]),I(t.elapsedTime||0),j(t.isComplete||!1),t.foundWords&&t.foundWords.length===p.length&&j(!0)}},[]),a.useEffect(()=>{if(q.current){q.current=!1;return}localStorage.setItem(J,JSON.stringify({foundWords:c,elapsedTime:N,isComplete:m}))},[c,N,m]),a.useEffect(()=>{const e=()=>{document.hidden?C(!1):m||C(!0)};return m||C(!0),document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e),k.current&&clearInterval(k.current)}},[m]),a.useEffect(()=>(O&&!m?k.current=setInterval(()=>{I(e=>e+1)},1e3):k.current&&clearInterval(k.current),()=>{k.current&&clearInterval(k.current)}),[O,m]);const ee=e=>{const t=Math.floor(e/60),s=e%60;return`${t}:${s.toString().padStart(2,"0")}`},z=(e,t)=>`${e}-${t}`,_=(e,t)=>{const s=Math.abs(e.row-t.row),n=Math.abs(e.col-t.col);return s<=1&&n<=1&&!(s===0&&n===0)},le=(e,t)=>e.length!==t.positions.length?!1:e.every((s,n)=>{const[l,d]=t.positions[n];return s.row===l&&s.col===d}),G=a.useCallback(()=>{const e=E.current;if(e.length<3){h("Word too short!"),setTimeout(()=>h(""),2e3),i([]);return}const t=e.map(l=>l.letter).join(""),s=p.find(l=>l.word===t||le(e,l)),n=Q.current;if(s&&!n.includes(s.word)){const l=[...n,s.word];D(l),h(s.isSpangram?"üéâ Spangram found!":"Great job!"),l.length===p.length&&(j(!0),M(!0)),setTimeout(()=>h(""),2e3)}else n.includes(t)?(h("Already found!"),setTimeout(()=>h(""),2e3)):(h("Not in word list or Invalid word!"),setTimeout(()=>h(""),2e3));i([])},[]),oe=a.useCallback((e,t)=>{if(T.current||!S.current)return;const s=z(e,t),n=E.current;if(n.some(o=>o.key===s)){n.length>0&&n[n.length-1].key===s&&i(o=>o.slice(0,-1));return}if(n.length===0){i([{row:e,col:t,key:s,letter:x[e][t]}]);return}const d=n[n.length-1];_(d,{row:e,col:t})?i(o=>[...o,{row:e,col:t,key:s,letter:x[e][t]}]):(h("Must select adjacent letters!"),setTimeout(()=>h(""),1500))},[]),ie=a.useCallback((e,t)=>{if(T.current||S.current)return;b(!0);const s=z(e,t);i([{row:e,col:t,key:s,letter:x[e][t]}])},[]),ce=a.useCallback((e,t)=>{if(!R.current||T.current||S.current)return;const s=z(e,t),n=E.current;if(!n.some(d=>d.key===s)&&n.length>0){const d=n[n.length-1];_(d,{row:e,col:t})&&i(o=>[...o,{row:e,col:t,key:s,letter:x[e][t]}])}},[]),H=a.useCallback(()=>{R.current&&E.current.length>=3?G():b(!1)},[G]),de=a.useCallback((e,t,s)=>{if(T.current||S.current)return;A.current=Date.now(),b(!0),$();const n=z(e,t);i([{row:e,col:t,key:n,letter:x[e][t]}])},[]),ue=a.useCallback((e,t,s)=>{s&&(Z.current[z(e,t)]=s)},[]),P=a.useCallback(e=>{if(!R.current||T.current||S.current)return;e.preventDefault(),e.stopPropagation();const t=e.touches[0];if(!t)return;const{rects:s}=F.current,n=t.clientX,l=t.clientY;let d=null;for(const o in s){const f=s[o];if(n>=f.left&&n<=f.right&&l>=f.top&&l<=f.bottom){const[y,u]=o.split("-").map(Number);d={row:y,col:u,key:o};break}}if(d){const{row:o,col:f,key:y}=d;i(u=>{if(!u.some(U=>U.key===y)&&u.length>0){const U=u[u.length-1];if(_(U,{row:o,col:f}))return[...u,{row:o,col:f,key:y,letter:x[o][f]}]}return u})}},[]),V=a.useCallback(e=>{S.current||R.current&&((A.current?Date.now()-A.current:0)>150&&E.current.length>=3&&setTimeout(()=>{G()},50),b(!1),A.current=null)},[]),B=a.useCallback(e=>{R.current&&(b(!1),i([]),A.current=null)},[]);a.useEffect(()=>(document.addEventListener("mouseup",H),document.addEventListener("touchend",V,{passive:!0}),document.addEventListener("touchcancel",B,{passive:!0}),document.addEventListener("touchmove",P,{passive:!1}),()=>{document.removeEventListener("mouseup",H),document.removeEventListener("touchend",V),document.removeEventListener("touchcancel",B),document.removeEventListener("touchmove",P)}),[H,V,B,P]);const me=()=>{i([])},te=()=>{localStorage.removeItem(J),i([]),D([]),h(""),j(!1),M(!1),I(0),C(!0)},ge=()=>{M(!1)},fe=(e,t)=>g.some(s=>s.row===e&&s.col===t),he=(e,t)=>c.some(s=>{const n=p.find(l=>l.word===s);return n?n.positions.some(([l,d])=>l===e&&d===t):!1}),re=()=>p.filter(e=>!c.includes(e.word));return r.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[Y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-black dark:bg-opacity-70 flex items-center justify-center p-4",style:{zIndex:30},children:r.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 sm:p-8 max-w-md w-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"üíç"}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Congratulations!"}),r.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-2",children:"You found all the words!"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:["Time: ",ee(N)]}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx("button",{onClick:te,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-blue-500 text-white rounded-full font-semibold hover:from-yellow-500 hover:to-green-600 transition-colors",children:"New Game"}),r.jsx("button",{onClick:ge,className:"px-6 py-3 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Show Puzzle"})]})]})})}),r.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[r.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[r.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Strands"}),r.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},className:"text-gray-600 dark:text-gray-300",children:" Wedding Edition"}),r.jsx("p",{style:{fontSize:"clamp(0.55rem, 2vw, 0.75rem)"},className:"text-gray-500 dark:text-gray-400 mt-2",children:"Find the hidden words! ‚Ä¢ Drag to select letters ‚Ä¢ Find the pangram!"})]}),r.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[r.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:ee(N)}),r.jsxs("div",{className:"text-base sm:text-lg font-semibold text-gray-700 dark:text-gray-300",children:[c.length," / ",p.length]})]}),!m&&r.jsx("div",{className:"flex justify-center mb-4",children:r.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-full p-1 inline-flex",children:[r.jsx("button",{onClick:()=>X(!1),className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${w?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-900 text-white"}`,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Drag Mode"}),r.jsx("button",{onClick:()=>X(!0),className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${w?"bg-gray-900 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Tap Mode"})]})}),r.jsx("div",{className:"mb-6 flex justify-center",children:r.jsxs("div",{className:"relative inline-block",ref:K,style:{touchAction:w?"auto":"none"},children:[r.jsx("svg",{className:"absolute inset-0 pointer-events-none",style:{zIndex:1},width:"100%",height:"100%",children:g.length>1&&g.map((e,t)=>{if(t===0)return null;const s=g[t-1],n=F.current.centers[s.key],l=F.current.centers[e.key];return!n||!l?null:r.jsx("line",{x1:n.x,y1:n.y,x2:l.x,y2:l.y,stroke:"#3b82f6",strokeWidth:"4",strokeLinecap:"round"},`path-${t}`)})}),r.jsx("div",{className:"relative",style:{zIndex:2},children:x.map((e,t)=>r.jsx("div",{className:"flex gap-2.5 sm:gap-3 mb-2.5 sm:mb-3",children:e.map((s,n)=>{const l=fe(t,n),d=he(t,n),o=p.find(y=>y.isSpangram),f=c.includes(o?.word)&&o?.positions.some(([y,u])=>y===t&&u===n);return r.jsx(ne,{letter:s,row:t,col:n,isSelected:l,isInFound:d,isInSpangram:f,isTapMode:w,onCellClick:oe,onCellMouseDown:ie,onCellMouseEnter:ce,onCellTouchStart:de,setButtonRef:ue},`${t}-${n}`)})},t))})]})}),g.length>0&&r.jsx("div",{className:"text-center mb-4",children:r.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:g.map(e=>e.letter).join("")})}),L&&r.jsx("div",{className:"text-center mb-4 font-semibold text-base sm:text-lg text-gray-900 dark:text-gray-100",children:L}),!m&&r.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-6",children:[r.jsx("button",{onClick:me,className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},disabled:g.length===0,children:"Clear"}),r.jsx("button",{onClick:G,className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${g.length>=3?"bg-gray-900 dark:bg-gray-200 text-white dark:text-gray-900 hover:bg-gray-700 dark:hover:bg-gray-100":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:g.length<3,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Submit"}),r.jsxs("button",{onClick:()=>ae(!v),className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[v?"Hide":"Show"," Hints"]})]}),m&&r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("button",{onClick:te,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-blue-500 text-white rounded-full font-semibold hover:from-yellow-500 hover:to-green-600 transition-colors",style:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"New Game"})}),r.jsxs("div",{className:"mt-8 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[r.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"Found Words"}),r.jsx("div",{className:"space-y-2",children:c.map((e,t)=>{const s=p.find(n=>n.word===e);return r.jsxs("div",{className:`
                    px-3 py-2 rounded-lg font-semibold
                    ${s?.isSpangram?"bg-nyt-yellow text-gray-900":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}
                  `,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[e," ",s?.isSpangram&&"‚≠ê Spangram"]},t)})}),v&&re().length>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[r.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",style:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"Remaining Word Hints:"}),r.jsx("ul",{className:"space-y-1 text-gray-600 dark:text-gray-300",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:re().map((e,t)=>r.jsxs("li",{children:["‚Ä¢ ",e.hint," ",e.isSpangram&&"(Spangram)"]},t))})]})]}),r.jsxs("div",{className:"mt-8 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[r.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),r.jsxs("ul",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"space-y-2 text-gray-700 dark:text-gray-300",children:[r.jsx("li",{children:"‚Ä¢ Drag across adjacent letters to form words"}),r.jsx("li",{children:"‚Ä¢ Find all the hidden wedding-themed words"}),r.jsx("li",{children:"‚Ä¢ Look for the special spangram word (marked with ‚≠ê)"}),r.jsx("li",{children:"‚Ä¢ The spangram spans across the puzzle"}),r.jsx("li",{children:"‚Ä¢ Try to find all words as quickly as possible!"})]})]})]})]})}export{we as default};
