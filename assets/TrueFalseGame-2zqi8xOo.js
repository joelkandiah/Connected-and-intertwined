import{j as e}from"./index-Ddr0jDS7.js";import{b as a}from"./vendor-BO-UU5I_.js";import{C as _,H as K}from"./CompletionModal-DvW2SdtI.js";const W=[{id:1,statement:"Joel and Sofia are each born a year either side of the millenium.",answer:!0},{id:2,statement:"Sofia and Joel got engaged in North Carolina.",answer:!1},{id:3,statement:"Sofia and Joel once did a couples costume as Edward and Bella from Twilight.",answer:!0},{id:4,statement:"The year before Joel met Sofia, his office had her name on it.",answer:!0},{id:5,statement:"Sofia moved to the UK without owning a raincoat or umbrella.",answer:!0},{id:6,statement:"Joel has had to go to the Emergency Room more times than Sofia since they met",answer:!1},{id:7,statement:"Joel had never travelled to the US before he met Sofia.",answer:!1},{id:8,statement:"Sofia shares a middle name with one of Joel's sisters.",answer:!0},{id:9,statement:"Sofia and Joel have both had a pet with the same name.",answer:!1},{id:10,statement:"Sofia first visited Joel's hometown (Thame) without him.",answer:!0}],q={facts:W},y="true-false-wedding-progress",z=100,V=30,Q=500;function se(){const[r]=a.useState(q.facts),[u,v]=a.useState(0),[n,S]=a.useState(0),[h,j]=a.useState([]),[m,p]=a.useState(!1),[J,g]=a.useState(!1),[P,C]=a.useState(!1),[d,b]=a.useState(!1),[i,N]=a.useState(null),[f,F]=a.useState({x:0,y:0}),[l,T]=a.useState(!1),k=a.useRef({x:0,y:0}),E=a.useRef({x:0,y:0}),Y=a.useRef(null);a.useEffect(()=>{localStorage.getItem("true-false-wedding-how-to-play")||(C(!0),localStorage.setItem("true-false-wedding-how-to-play","true"))},[]),a.useEffect(()=>{const t=localStorage.getItem(y);if(t)try{const s=JSON.parse(t),o=s.answered&&s.answered.length===r.length,c=s.currentIndex!==void 0&&s.currentIndex<r.length;o||c?(v(s.currentIndex||0),S(s.score||0),j(s.answered||[]),p(s.isGameOver||!1),b(s.viewOnlyMode||!1),o&&(b(!0),p(!0),g(!1))):localStorage.removeItem(y)}catch(s){console.error("Failed to parse save state:",s),localStorage.removeItem(y)}},[r.length]),a.useEffect(()=>{(h.length>0||m)&&localStorage.setItem(y,JSON.stringify({currentIndex:u,score:n,answered:h,isGameOver:m,viewOnlyMode:d}))},[u,n,h,m,d]);const x=t=>{if(m||d)return;const s=r[u],o=t===s.answer;o&&S(n+1);const c=[...h,{factId:s.id,userAnswer:t,correct:o}];j(c),T(!1),N(t?"right":"left"),setTimeout(()=>{N(null),u+1>=r.length?(p(!0),g(!0)):v(u+1)},Q)},M=()=>{localStorage.removeItem(y),v(0),S(0),j([]),p(!1),g(!1),b(!1),N(null)},L=()=>{g(!1),b(!0)},D=t=>{if(m||d||i)return;const s=t.type==="touchstart"?t.touches[0].clientX:t.clientX,o=t.type==="touchstart"?t.touches[0].clientY:t.clientY;k.current={x:s,y:o},T(!0)},$=t=>{if(!l)return;const s=t.type==="touchmove"?t.touches[0].clientX:t.clientX,o=t.type==="touchmove"?t.touches[0].clientY:t.clientY,c=s-k.current.x,R=o-k.current.y,G={x:c,y:R};E.current=G,F(G)},I=()=>{if(!l)return;T(!1);const t=E.current.x;Math.abs(t)>=z&&x(t>0),E.current={x:0,y:0},F({x:0,y:0})},U=()=>{if(i)return"";if(l){const t=f.x/20;return`translate(${f.x}px, ${f.y*.3}px) rotate(${t}deg)`}return"translate(0, 0) rotate(0deg)"},X=()=>i?1:l?Math.max(.5,1-Math.abs(f.x)/300):1,B=l&&Math.abs(f.x)>=V,A=f.x>0?"true":"false",H=r[u],w=h.length,O=r.length;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[e.jsx(_,{isOpen:J,icon:n>=r.length*.7?"ðŸŽ‰":n>=r.length*.5?"ðŸ˜Š":"ðŸ˜”",title:n>=r.length*.7?"Well Done!":n>=r.length*.5?"Not Bad!":"Keep Trying!",message:n===r.length?"Perfect score!":`You got ${n} out of ${r.length} correct!`,primaryButtonText:"New Game",secondaryButtonText:"Show Results",onPrimaryAction:M,onSecondaryAction:L,primaryButtonGradient:"from-green-400 to-red-700",stats:[{label:"Score",value:`${n}/${r.length}`,gradient:n>=r.length*.7?"from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30":n>=r.length*.5?"from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30":"from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700"}]}),e.jsx(K,{isOpen:P,onClose:()=>C(!1),children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"â€¢ Read each fact about the couple carefully."}),e.jsx("li",{children:"â€¢ Decide if the statement is TRUE or FALSE."}),e.jsx("li",{children:"â€¢ Click the True (green) or False (red) button."}),e.jsx("li",{children:"â€¢ Or swipe right for True or left for False."}),e.jsx("li",{children:"â€¢ See how many you can get correct!"})]})}),e.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[e.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-responsive-h1 font-bold mb-2 text-gray-900 dark:text-gray-100",children:"True or False"}),e.jsx("p",{className:"text-responsive-body text-gray-600 dark:text-gray-300",children:"Wedding Edition"}),e.jsx("p",{className:"text-responsive-sm text-gray-500 dark:text-gray-400 mt-2",children:"Guess the facts about the couple!"})]}),!d&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center gap-3",children:e.jsxs("span",{className:"text-responsive-base text-gray-600 dark:text-gray-300 font-semibold",children:["Fact ",w==O?w:w+1," of ",O]})}),e.jsx("div",{className:"w-full max-w-xs mx-auto mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 transition-all duration-300",style:{width:`${w/O*100}%`}})})]}),!m&&!d&&H&&e.jsx("div",{className:"relative mb-8",style:{minHeight:"400px"},children:e.jsxs("div",{ref:Y,role:"region","aria-label":"Interactive question card - swipe right for True, left for False",tabIndex:0,className:`
                absolute inset-0 mx-auto max-w-md
                bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8
                flex items-center justify-center
                cursor-grab active:cursor-grabbing
                focus:outline-none focus:ring-2 focus:ring-blue-500
                ${i==="left"?"animate-swipe-left":""}
                ${i==="right"?"animate-swipe-right":""}
                ${l?"scale-105":""}
              `,style:{transform:U(),opacity:X(),transition:i||!l?"transform 0.5s ease-out, opacity 0.5s ease-out":"none",touchAction:"none",userSelect:"none"},onMouseDown:D,onMouseMove:$,onMouseUp:I,onMouseLeave:I,onTouchStart:D,onTouchMove:$,onTouchEnd:I,onKeyDown:t=>{t.key==="ArrowRight"||t.key==="t"||t.key==="T"?x(!0):(t.key==="ArrowLeft"||t.key==="f"||t.key==="F")&&x(!1)},children:[e.jsx("p",{style:{fontSize:"clamp(1.25rem, 3vw, 1.75rem)"},className:"text-gray-900 dark:text-gray-100 font-semibold text-center leading-relaxed",children:H.statement}),B&&e.jsx("div",{className:`
                  absolute inset-0 rounded-2xl flex items-center justify-center
                  ${A==="true"?"bg-green-500/20":"bg-red-500/20"}
                  pointer-events-none transition-opacity duration-200
                `,children:e.jsx("div",{className:`
                    text-6xl font-bold
                    ${A==="true"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}
                  `,children:A==="true"?"âœ“ TRUE":"âœ— FALSE"})})]})}),!m&&!d&&e.jsxs("div",{className:"flex justify-center gap-6 sm:gap-8 mb-6",children:[e.jsx("button",{onClick:()=>x(!1),className:"btn-false text-responsive-base",disabled:l||i!==null,"aria-disabled":l||i!==null,"aria-label":"Answer False",children:"âœ— False"}),e.jsx("button",{onClick:()=>x(!0),className:"btn-true text-responsive-base",disabled:l||i!==null,"aria-disabled":l||i!==null,"aria-label":"Answer True",children:"âœ“ True"})]}),d&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("h2",{className:"text-responsive-h2 font-bold text-center mb-6 text-gray-900 dark:text-gray-100",children:["Your Results: ",n,"/",r.length]}),r.map((t,s)=>{const o=h.find(R=>R.factId===t.id),c=o?.correct;return e.jsx("div",{className:`
                    p-4 sm:p-6 rounded-lg
                    ${c?"bg-green-50 dark:bg-green-900/20 border-2 border-green-500":"bg-red-50 dark:bg-red-900/20 border-2 border-red-500"}
                  `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`
                      text-2xl flex-shrink-0
                      ${c?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}
                    `,children:c?"âœ“":"âœ—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-responsive-base text-gray-900 dark:text-gray-100 mb-2",children:t.statement}),e.jsxs("p",{className:"text-responsive-base text-gray-600 dark:text-gray-400",children:["Correct answer: ",e.jsx("span",{className:"font-semibold",children:t.answer?"TRUE":"FALSE"}),o&&e.jsxs("span",{className:"ml-2",children:["â€¢ You answered: ",e.jsx("span",{className:"font-semibold",children:o.userAnswer?"TRUE":"FALSE"})]})]})]})]})},t.id)}),e.jsxs("div",{className:"flex justify-center gap-6 sm:gap-8 mt-8",children:[e.jsx("button",{onClick:M,className:"btn-primary bg-gradient-to-r from-green-400 to-red-700 text-responsive-base",children:"New Game"}),e.jsx("button",{onClick:()=>g(!0),className:"btn-secondary text-responsive-base",children:"Show Score"})]})]}),e.jsxs("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-responsive-h2 font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),e.jsxs("ul",{className:"text-responsive-base space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"â€¢ Read each fact about the couple carefully."}),e.jsx("li",{children:"â€¢ Decide if the statement is TRUE or FALSE."}),e.jsx("li",{children:"â€¢ Click the True (green) or False (red) button."}),e.jsx("li",{children:"â€¢ Or swipe right for True or left for False."}),e.jsx("li",{children:"â€¢ See how many you can get correct!"})]})]})]})]})}export{se as default};
