import{j as e}from"./index-DUZGebvk.js";import{b as n}from"./vendor-BO-UU5I_.js";const U=[{name:"The Couple",difficulty:1,words:["SOFIA","JOEL","BRIDE","GROOM"]},{name:"As One",difficulty:2,words:["UNION","TIED","WED","YOKED"]},{name:"Synonyms for Ceremony/Ritual",difficulty:3,words:["CEREMONY","RITUAL","TRADITION","RITE"]},{name:"French Loan Words",difficulty:4,words:["BOUTONNIÃ‰RE","NUPTIAL","BOUQUET","FIANCÃ‰E"]}],y={categories:U},T={1:"bg-nyt-yellow",2:"bg-nyt-green",3:"bg-nyt-blue",4:"bg-nyt-purple"},k="connections-wedding-progress";function P(){const[i,f]=n.useState([]),[r,d]=n.useState([]),[h,p]=n.useState([]),[j,N]=n.useState(0),[M,m]=n.useState(""),[c,u]=n.useState(!1),[G,b]=n.useState(!1),[g,v]=n.useState(!1),[S,C]=n.useState(null),[x,O]=n.useState(null),[R,z]=n.useState(!1);n.useEffect(()=>{const s=localStorage.getItem(k);let a=null;if(s){const t=JSON.parse(s),l=t.solved&&t.solved.length===y.categories.length,o=t.words&&t.words.length>0;l||o?a=t:(console.error("Corrupted/Blank save state detected. Starting new game."),localStorage.removeItem(k))}if(a){const t=a;f(t.words||[]),d(t.selected||[]),p(t.solved||[]),N(t.mistakes||0),u(t.isGameOver||!1),v(t.viewOnlyMode||!1),O(null),C(null),t.solved&&t.solved.length===y.categories.length&&(v(!0),u(!0),b(!1))}else{const t=y.categories.flatMap(l=>l.words.map(o=>({word:o,category:l.name,difficulty:l.difficulty})));f(t.sort(()=>Math.random()-.5)),d([]),p([]),N(0),u(!1),b(!1),v(!1)}},[]),n.useEffect(()=>{(i.length+h.reduce((a,t)=>a+t.words.length,0)===16||c)&&localStorage.setItem(k,JSON.stringify({words:i,selected:r,solved:h,mistakes:j,isGameOver:c,viewOnlyMode:g}))},[i,r,h,j,c,g]);const A=s=>{c||g||(r.includes(s)?d(r.filter(a=>a!==s)):r.length<4&&d([...r,s]))},D=()=>{if(r.length!==4)return;const s=r.map(t=>i.find(l=>l.word===t)),a=[...new Set(s.map(t=>t.category))];if(a.length===1){const t=y.categories.find(l=>l.name===a[0]);m(`Correct! ${t.name}`),C({name:t.name,words:r,difficulty:t.difficulty}),setTimeout(()=>{C(null),O({name:t.name,words:r,difficulty:t.difficulty}),z(!1),setTimeout(()=>z(!0),800),setTimeout(()=>{p(l=>{const o=[...l,{name:t.name,words:r,difficulty:t.difficulty}];return o.length===y.categories.length&&(u(!0),b(!0),m("Congratulations! You solved the puzzle!")),o}),f(l=>l.filter(o=>!r.includes(o.word))),d(()=>[]),O(null),z(!1)},1200)},400),setTimeout(()=>m(""),2e3)}else{const t=j+1;N(t);const l=Math.max(...a.map(o=>s.filter(E=>E.category===o).length));if(m(l===3?"One away...":"Not quite!"),t>=4){u(!0),m("Game Over! You ran out of tries.");const o=h.map(w=>w.name),E=y.categories.filter(w=>!o.includes(w.name));p(w=>[...w,...E]),f([])}d([]),setTimeout(()=>m(""),2e3)}},F=()=>d([]),W=()=>f([...i].sort(()=>Math.random()-.5)),I=()=>{localStorage.removeItem(k);const s=y.categories.flatMap(a=>a.words.map(t=>({word:t,category:a.name,difficulty:a.difficulty})));f(s.sort(()=>Math.random()-.5)),d([]),p([]),N(0),u(!1),b(!1),v(!1),m("")},L=()=>{b(!1),v(!0)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[G&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-black dark:bg-opacity-70 flex items-center justify-center p-4",style:{zIndex:30},children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 sm:p-8 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Congratulations!"}),e.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-6",children:"You solved all the connections!"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:I,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-green-500 text-white rounded-full font-semibold hover:from-yellow-500 hover:to-green-600 transition-colors",children:"New Game"}),e.jsx("button",{onClick:L,className:"px-6 py-3 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Show Puzzle"})]})]})})}),e.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[e.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Connections"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},className:"text-gray-600 dark:text-gray-300",children:"Wedding Edition"}),e.jsx("p",{style:{fontSize:"clamp(0.55rem, 2vw, 0.75rem)"},className:"text-gray-500 dark:text-gray-400 mt-2",children:"Create four groups of four!"})]}),e.jsx("div",{className:"space-y-2 mb-6",children:h.sort((s,a)=>s.difficulty-a.difficulty).map((s,a)=>e.jsxs("div",{className:`${T[s.difficulty]} rounded-lg animate-slide-in p-2 sm:p-3`,style:{minHeight:"calc(100% / 4)"},children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:s.name}),e.jsx("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:s.words.map(t=>e.jsx("div",{className:"aspect-square flex items-center justify-center font-semibold uppercase bg-nyt-beige-light text-gray-900 rounded-md",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:t},t))})]},a))}),!c&&(i.length>0||S||x)&&e.jsxs("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2 mb-6 relative",children:[i.map(s=>{const a=r.includes(s.word),t=S?.words.includes(s.word);return e.jsx("button",{onClick:()=>A(s.word),className:`
                    aspect-square flex items-center justify-center
                    p-1.5 sm:p-3 md:p-4 rounded-lg font-semibold uppercase
                    transition-all duration-400
                    ${a?"bg-nyt-beige-dark text-white scale-95":"bg-nyt-beige-light hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900"}
                    ${t?"transform translate-y-[-100%]":""}
                  `,style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s.word},s.word)}),x&&e.jsx("div",{className:`
                  absolute inset-0 flex justify-center items-center
                  ${T[x.difficulty]} rounded-lg
                  transition-all duration-800
                  ${R?"opacity-0 scale-95":"opacity-100 scale-100"}
                `,style:{zIndex:10},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none space-y-2",children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900 text-gray-900 text-gray-900 text-gray-900 text-gray-900 text-gray-900 text-gray-900 text-gray-900 text-gray-900",children:x.name}),e.jsx("div",{className:"flex gap-1 sm:gap-2",children:x.words.map(s=>e.jsx("div",{className:"flex items-center justify-center aspect-square px-2 py-1 font-semibold uppercase text-center rounded-md",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s},s))})]})})]}),M&&e.jsx("div",{className:"text-center mb-4 font-semibold dark:text-gray-100",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},children:M}),!c&&!g&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"text-gray-600 dark:text-gray-300",children:"Mistakes remaining:"}),e.jsx("div",{className:"flex gap-1",children:[...Array(4)].map((s,a)=>e.jsx("div",{style:{width:"clamp(10px, 2vw, 12px)",height:"clamp(10px, 2vw, 12px)"},className:`rounded-full ${a<4-j?"bg-gray-700 dark:bg-gray-300":"bg-gray-300 dark:bg-gray-600"}`},a))})]})}),g&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("button",{onClick:I,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-green-500 text-white rounded-full font-semibold hover:from-yellow-500 hover:to-green-600 transition-colors",style:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"New Game"})}),!c&&!g&&(i.length>0||S||x)&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-6",children:[e.jsx("button",{onClick:W,className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Shuffle"}),e.jsx("button",{onClick:F,className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},disabled:r.length===0,children:"Deselect All"}),e.jsx("button",{onClick:D,className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${r.length===4?"bg-gray-900 dark:bg-gray-200 text-white dark:text-gray-900 hover:bg-gray-700 dark:hover:bg-gray-100":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:r.length!==4,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Submit"})]}),c&&!g&&e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:I,className:"px-6 sm:px-8 py-2.5 sm:py-3 bg-gray-900 dark:bg-gray-200 text-white dark:text-gray-900 rounded-full font-semibold hover:bg-gray-700 dark:hover:bg-gray-100 transition-colors",style:{fontSize:"clamp(0.875rem, 2.5vw, 1rem)"},children:"New Game"})}),e.jsxs("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),e.jsxs("ul",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})]})]})]})}export{P as default};
