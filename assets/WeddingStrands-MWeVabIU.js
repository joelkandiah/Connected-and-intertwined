import{r as i,j as s}from"./index-D0Hizqyn.js";const ie=[["E","C","S","G","I","Y"],["I","N","O","N","R","N"],["A","F","A","D","O","L"],["C","E","R","M","E","I"],["R","U","E","I","V","T"],["Y","E","N","A","O","S"],["N","W","O","D","N","A"],["S","O","L","V","T","O"]],de=[{word:"CEREMONY",positions:[[3,0],[3,1],[3,2],[4,2],[3,3],[2,4],[1,5],[0,5]],isSpangram:!0,hint:"The main event!"},{word:"REYNOLDA",positions:[[4,0],[5,1],[5,0],[6,0],[7,1],[7,2],[6,3],[5,3]],isSpangram:!1,hint:"The grand barn"},{word:"VOWS",positions:[[7,3],[6,2],[6,1],[7,0]],isSpangram:!1,hint:"Exchanged Promises"},{word:"UNION",positions:[[4,1],[5,2],[4,3],[5,4],[6,4]],isSpangram:!1,hint:"As One"},{word:"RING",positions:[[1,4],[0,4],[1,3],[0,3]],isSpangram:!1,hint:"Symbol of commitment"},{word:"TOAST",positions:[[7,4],[7,5],[6,5],[5,5],[4,5]],isSpangram:!1,hint:"Cheers to the couple!"},{word:"DANCE",positions:[[2,3],[2,2],[1,1],[0,1],[0,0]],isSpangram:!1,hint:"First ___ as husband and wife"},{word:"LOVE",positions:[[4,4],[3,4],[3,5],[2,5]],isSpangram:!1,hint:"The groom lifts to see her face!"},{word:"SOFIA",positions:[[0,2],[1,2],[2,1],[1,0],[2,0]],isSpangram:!1,hint:"It's her special day!"}],J={grid:ie,words:de},v=J.grid,y=J.words,F="wedding-strands-progress";function me(){const[a,m]=i.useState([]),[h,T]=i.useState([]),[I,g]=i.useState(""),[d,N]=i.useState(!1),[Z,R]=i.useState(!1),[C,z]=i.useState(0),[$,E]=i.useState(!1),[w,k]=i.useState(!1),[D,q]=i.useState(!1),[u,G]=i.useState(!1),x=i.useRef(null),M=i.useRef(null),A=i.useRef({}),K=i.useRef(!0),j=i.useRef(null);i.useEffect(()=>{const t=localStorage.getItem(F);if(t){const e=JSON.parse(t);T(e.foundWords||[]),z(e.elapsedTime||0),N(e.isComplete||!1),e.foundWords&&e.foundWords.length===y.length&&N(!0)}},[]),i.useEffect(()=>{if(K.current){K.current=!1;return}localStorage.setItem(F,JSON.stringify({foundWords:h,elapsedTime:C,isComplete:d}))},[h,C,d]),i.useEffect(()=>{const t=()=>{document.hidden?E(!1):d||E(!0)};return d||E(!0),document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t),x.current&&clearInterval(x.current)}},[d]),i.useEffect(()=>($&&!d?x.current=setInterval(()=>{z(t=>t+1)},1e3):x.current&&clearInterval(x.current),()=>{x.current&&clearInterval(x.current)}),[$,d]);const P=t=>{const e=Math.floor(t/60),r=t%60;return`${e}:${r.toString().padStart(2,"0")}`},S=(t,e)=>`${t}-${e}`,O=(t,e)=>{const r=Math.abs(t.row-e.row),n=Math.abs(t.col-e.col);return r<=1&&n<=1&&!(r===0&&n===0)},X=(t,e)=>{if(d||!u)return;const r=S(t,e);if(a.some(l=>l.key===r)){a.length>0&&a[a.length-1].key===r&&m(l=>l.slice(0,-1));return}if(a.length===0){m([{row:t,col:e,key:r,letter:v[t][e]}]);return}const o=a[a.length-1];O(o,{row:t,col:e})?m(l=>[...l,{row:t,col:e,key:r,letter:v[t][e]}]):(g("Must select adjacent letters!"),setTimeout(()=>g(""),1500))},Q=(t,e)=>{if(d||u)return;k(!0);const r=S(t,e);m([{row:t,col:e,key:r,letter:v[t][e]}])},ee=(t,e)=>{if(!w||d||u)return;const r=S(t,e);if(!a.some(o=>o.key===r)&&a.length>0){const o=a[a.length-1];O(o,{row:t,col:e})&&m(l=>[...l,{row:t,col:e,key:r,letter:v[t][e]}])}},Y=()=>{w&&a.length>=3?W():k(!1)},te=(t,e,r)=>{if(d||u)return;j.current=Date.now(),k(!0);const n=S(t,e);m([{row:t,col:e,key:n,letter:v[t][e]}])},H=t=>{if(!w||d||u)return;t.preventDefault(),t.stopPropagation();const e=t.touches[0];if(!e)return;const r=document.elementFromPoint(e.clientX,e.clientY);if(r&&r.dataset.row!==void 0&&r.dataset.col!==void 0){const n=parseInt(r.dataset.row),o=parseInt(r.dataset.col),l=S(n,o);m(c=>{if(!c.some(b=>b.key===l)&&c.length>0){const b=c[c.length-1];if(O(b,{row:n,col:o}))return[...c,{row:n,col:o,key:l,letter:v[n][o]}]}return c})}},_=t=>{u||w&&((j.current?Date.now()-j.current:0)>150&&a.length>=3&&setTimeout(()=>{W()},50),k(!1),j.current=null)},B=t=>{w&&(k(!1),m([]),j.current=null)};i.useEffect(()=>(document.addEventListener("mouseup",Y),document.addEventListener("touchend",_,{passive:!0}),document.addEventListener("touchcancel",B,{passive:!0}),document.addEventListener("touchmove",H,{passive:!1}),()=>{document.removeEventListener("mouseup",Y),document.removeEventListener("touchend",_),document.removeEventListener("touchcancel",B),document.removeEventListener("touchmove",H)}),[w,a,u]);const se=(t,e)=>t.length!==e.positions.length?!1:t.every((r,n)=>{const[o,l]=e.positions[n];return r.row===o&&r.col===l}),W=()=>{if(a.length<3){g("Word too short!"),setTimeout(()=>g(""),2e3),m([]);return}const t=a.map(r=>r.letter).join(""),e=y.find(r=>r.word===t||se(a,r));if(e&&!h.includes(e.word)){const r=[...h,e.word];T(r),g(e.isSpangram?"üéâ Spangram found!":"Great job!"),r.length===y.length&&(N(!0),R(!0)),setTimeout(()=>g(""),2e3)}else h.includes(t)?(g("Already found!"),setTimeout(()=>g(""),2e3)):(g("Not a valid word"),setTimeout(()=>g(""),2e3));m([])},re=()=>{m([])},V=()=>{localStorage.removeItem(F),m([]),T([]),g(""),N(!1),R(!1),z(0),E(!0)},ne=()=>{R(!1)},ae=(t,e)=>a.some(r=>r.row===t&&r.col===e),oe=(t,e)=>h.some(r=>{const n=y.find(o=>o.word===r);return n?n.positions.some(([o,l])=>o===t&&l===e):!1}),U=()=>y.filter(t=>!h.includes(t.word));return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[Z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-black dark:bg-opacity-70 flex items-center justify-center p-4",style:{zIndex:30},children:s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl p-6 sm:p-8 max-w-md w-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"üíç"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Congratulations!"}),s.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 mb-2",children:"You found all the words!"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:["Time: ",P(C)]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx("button",{onClick:V,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-blue-500 text-white rounded-full font-semibold hover:from-yellow-500 hover:to-green-600 transition-colors",children:"New Game"}),s.jsx("button",{onClick:ne,className:"px-6 py-3 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:"Show Puzzle"})]})]})})}),s.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[s.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Strands"}),s.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},className:"text-gray-600 dark:text-gray-300",children:" Wedding Edition"}),s.jsx("p",{style:{fontSize:"clamp(0.55rem, 2vw, 0.75rem)"},className:"text-gray-500 dark:text-gray-400 mt-2",children:"Find the hidden words! ‚Ä¢ Drag to select letters ‚Ä¢ Find the pangram!"})]}),s.jsxs("div",{className:"flex justify-between items-center mb-4 px-2",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:P(C)}),s.jsxs("div",{className:"text-base sm:text-lg font-semibold text-gray-700 dark:text-gray-300",children:[h.length," / ",y.length]})]}),!d&&s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"bg-white border-2 border-gray-300 rounded-full p-1 inline-flex",children:[s.jsx("button",{onClick:()=>G(!1),className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${u?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-900 text-white"}`,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Drag Mode"}),s.jsx("button",{onClick:()=>G(!0),className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${u?"bg-gray-900 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Tap Mode"})]})}),s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsxs("div",{className:"relative inline-block",ref:M,style:{touchAction:u?"auto":"none"},children:[s.jsx("svg",{className:"absolute inset-0 pointer-events-none",style:{zIndex:1},width:"100%",height:"100%",children:a.length>1&&a.map((t,e)=>{if(e===0)return null;const r=a[e-1],n=A.current[r.key],o=A.current[t.key];if(!n||!o||!M.current)return null;const l=M.current.getBoundingClientRect(),c=n.getBoundingClientRect(),p=o.getBoundingClientRect(),b=c.left-l.left+c.width/2,f=c.top-l.top+c.height/2,L=p.left-l.left+p.width/2,le=p.top-l.top+p.height/2;return s.jsx("line",{x1:b,y1:f,x2:L,y2:le,stroke:"#3b82f6",strokeWidth:"4",strokeLinecap:"round"},`path-${e}`)})}),s.jsx("div",{className:"relative",style:{zIndex:2},children:v.map((t,e)=>s.jsx("div",{className:"flex gap-2.5 sm:gap-3 mb-2.5 sm:mb-3",children:t.map((r,n)=>{const o=ae(e,n),l=oe(e,n),c=y.find(f=>f.isSpangram),p=h.includes(c?.word)&&c?.positions.some(([f,L])=>f===e&&L===n),b=S(e,n);return s.jsx("button",{ref:f=>{f&&(A.current[b]=f)},"data-row":e,"data-col":n,onClick:()=>X(e,n),onMouseDown:()=>Q(e,n),onMouseEnter:()=>ee(e,n),onTouchStart:f=>te(e,n),className:`
                          w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16
                          flex items-center justify-center
                          rounded-full font-bold text-lg sm:text-xl md:text-2xl
                          transition-all duration-200
                          ${o?"bg-blue-500 text-white scale-95":p?"bg-nyt-yellow text-gray-900":l?"bg-nyt-beige-dark text-white":"bg-nyt-beige-light hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900"}
                          cursor-pointer select-none
                        `,style:{touchAction:u?"auto":"none"},children:r},`${e}-${n}`)})},e))})]})}),a.length>0&&s.jsx("div",{className:"text-center mb-4",children:s.jsx("div",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100",children:a.map(t=>t.letter).join("")})}),I&&s.jsx("div",{className:"text-center mb-4 font-semibold text-base sm:text-lg text-gray-900 dark:text-gray-100",children:I}),!d&&s.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-6",children:[s.jsx("button",{onClick:re,className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},disabled:a.length===0,children:"Clear"}),s.jsx("button",{onClick:W,className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${a.length>=3?"bg-gray-900 dark:bg-gray-200 text-white dark:text-gray-900 hover:bg-gray-700 dark:hover:bg-gray-100":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:a.length<3,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Submit"}),s.jsxs("button",{onClick:()=>q(!D),className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[D?"Hide":"Show"," Hints"]})]}),d&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("button",{onClick:V,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-blue-500 text-white rounded-full font-semibold hover:from-yellow-500 hover:to-green-600 transition-colors",style:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"New Game"})}),s.jsxs("div",{className:"mt-8 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[s.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"Found Words"}),s.jsx("div",{className:"space-y-2",children:h.map((t,e)=>{const r=y.find(n=>n.word===t);return s.jsxs("div",{className:`
                    px-3 py-2 rounded-lg font-semibold
                    ${r?.isSpangram?"bg-nyt-yellow text-gray-900":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}
                  `,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:[t," ",r?.isSpangram&&"‚≠ê Spangram"]},e)})}),D&&U().length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"font-semibold mb-2 text-gray-900 dark:text-gray-100",style:{fontSize:"clamp(0.875rem, 2vw, 1rem)"},children:"Remaining Word Hints:"}),s.jsx("ul",{className:"space-y-1 text-gray-600 dark:text-gray-300",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:U().map((t,e)=>s.jsxs("li",{children:["‚Ä¢ ",t.hint," ",t.isSpangram&&"(Spangram)"]},e))})]})]}),s.jsxs("div",{className:"mt-8 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[s.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),s.jsxs("ul",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"space-y-2 text-gray-700 dark:text-gray-300",children:[s.jsx("li",{children:"‚Ä¢ Drag across adjacent letters to form words"}),s.jsx("li",{children:"‚Ä¢ Find all the hidden wedding-themed words"}),s.jsx("li",{children:"‚Ä¢ Look for the special spangram word (marked with ‚≠ê)"}),s.jsx("li",{children:"‚Ä¢ The spangram spans across the puzzle"}),s.jsx("li",{children:"‚Ä¢ Try to find all words as quickly as possible!"})]})]})]})]})}export{me as default};
