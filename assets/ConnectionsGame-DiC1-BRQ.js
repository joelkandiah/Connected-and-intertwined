import{_ as D,j as e}from"./index-oJkx2L23.js";import{b as r}from"./vendor-BO-UU5I_.js";import{u as B}from"./runtime.module-CxOLQiBe.js";import{C as Y,H as q}from"./CompletionModal-D9ACBJVh.js";const I={1:"bg-nyt-yellow",2:"bg-nyt-green",3:"bg-nyt-blue",4:"bg-nyt-purple"},L=D(()=>import("./connections-puzzle-C69HrFtj.js"),[]).then(S=>S.default||S),N="connections-wedding-progress";function Q(){const S=r.use(L),d=r.useMemo(()=>S.categories,[S]),[g,x]=r.useState([]),[l,u]=r.useState([]),[v,j]=r.useState([]),[i,k]=r.useState(0),c=B(""),[f,y]=r.useState(!1),[P,m]=r.useState(!1),[h,w]=r.useState(!1),[C,z]=r.useState(null),[b,M]=r.useState(null),[H,O]=r.useState(!1),[_,E]=r.useState(!1);r.useEffect(()=>{localStorage.getItem("connections-wedding-how-to-play")||(E(!0),localStorage.setItem("connections-wedding-how-to-play","true"))},[]),r.useEffect(()=>{const s=localStorage.getItem(N);let a=null;if(s)try{const t=JSON.parse(s),n=t.solved&&t.solved.length===d.length,o=t.words&&t.words.length>0;n||o?a=t:(console.error("Corrupted/Blank save state detected. Starting new game."),localStorage.removeItem(N))}catch(t){console.error("Failed to parse save state:",t),localStorage.removeItem(N)}if(a){const t=a;x(t.words||[]),u(t.selected||[]),j(t.solved||[]),k(t.mistakes||0),y(t.isGameOver||!1),w(t.viewOnlyMode||!1),M(null),z(null),(t.solved&&t.solved.length===d.length||t.isGameOver)&&(w(!0),y(!0),m(!1))}else{const t=d.flatMap(n=>n.words.map(o=>({word:o,category:n.name,difficulty:n.difficulty})));x(t.sort(()=>Math.random()-.5)),u([]),j([]),k(0),y(!1),m(!1),w(!1)}},[d]),r.useEffect(()=>{(g.length+v.reduce((a,t)=>a+t.words.length,0)===16||f)&&localStorage.setItem(N,JSON.stringify({words:g,selected:l,solved:v,mistakes:i,isGameOver:f,viewOnlyMode:h}))},[g,l,v,i,f,h]);const F=s=>{f||h||(l.includes(s)?u(l.filter(a=>a!==s)):l.length<4&&u([...l,s]))},R=()=>{if(l.length!==4)return;const s=l.map(t=>g.find(n=>n.word===t)),a=[...new Set(s.map(t=>t.category))];if(a.length===1){const t=d.find(n=>n.name===a[0]);c.value=`Correct! ${t.name}`,z({name:t.name,words:l,difficulty:t.difficulty}),setTimeout(()=>{z(null),M({name:t.name,words:l,difficulty:t.difficulty}),O(!1),setTimeout(()=>O(!0),800),setTimeout(()=>{j(n=>{const o=[...n,{name:t.name,words:l,difficulty:t.difficulty}];return o.length===d.length&&(y(!0),m(!0),c.value="Congratulations! You solved the puzzle!"),o}),x(n=>n.filter(o=>!l.includes(o.word))),u(()=>[]),M(null),O(!1)},1200)},400),setTimeout(()=>c.value="",2e3)}else{const t=i+1;k(t);const n=Math.max(...a.map(o=>s.filter(G=>G.category===o).length));if(c.value=n===3?"One away...":"Not quite!",t>=4){y(!0),m(!0),c.value="Game Over! You ran out of tries.";const o=v.map(p=>p.name),G=d.filter(p=>!o.includes(p.name)).map(p=>({...p,isRevealed:!0}));j(p=>[...p,...G]),x([])}u([]),setTimeout(()=>c.value="",2e3)}},$=()=>u([]),A=()=>x([...g].sort(()=>Math.random()-.5)),T=()=>{localStorage.removeItem(N);const s=d.flatMap(a=>a.words.map(t=>({word:t,category:a.name,difficulty:a.difficulty})));x(s.sort(()=>Math.random()-.5)),u([]),j([]),k(0),y(!1),m(!1),w(!1),c.value=""},W=()=>{m(!1),w(!0)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[e.jsx(Y,{isOpen:P,icon:i<4?"ðŸŽ‰":"ðŸ˜”",title:i<4?"Congratulations!":"Unlucky!",message:i<4?i===0?"Perfect!":"You did it!":"Better luck next time!",primaryButtonText:"New Game",secondaryButtonText:"Show Puzzle",onPrimaryAction:T,onSecondaryAction:W,primaryButtonGradient:"from-yellow-400 to-green-500",stats:[{label:"Score",value:`${v.filter(s=>!s.isRevealed).length}/4`,gradient:i<4?"from-yellow-100 to-green-100 dark:from-yellow-900/30 dark:to-green-900/30":"from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700"}]}),e.jsx(q,{isOpen:_,onClose:()=>E(!1),children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})}),e.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[e.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Connections"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},className:"text-gray-600 dark:text-gray-300",children:"Wedding Edition"}),e.jsx("p",{style:{fontSize:"clamp(0.55rem, 2vw, 0.75rem)"},className:"text-gray-500 dark:text-gray-400 mt-2",children:"Create four groups of four!"})]}),e.jsx("div",{className:"space-y-2 mb-6",children:v.sort((s,a)=>s.difficulty-a.difficulty).map((s,a)=>e.jsxs("div",{className:`${I[s.difficulty]} rounded-lg animate-slide-in p-2 sm:p-3`,style:{minHeight:"calc(100% / 4)"},children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:s.name}),e.jsx("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:s.words.map(t=>e.jsx("div",{className:"aspect-square flex items-center justify-center font-semibold uppercase bg-nyt-beige-light text-gray-900 rounded-md",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:t},t))})]},a))}),!f&&(g.length>0||C||b)&&e.jsxs("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2 mb-6 relative",children:[g.map(s=>{const a=l.includes(s.word),t=C?.words.includes(s.word);return e.jsx("button",{onClick:()=>F(s.word),className:`
                    aspect-square flex items-center justify-center
                    p-1.5 sm:p-3 md:p-4 rounded-lg font-semibold uppercase
                    transition-all duration-400
                    ${a?"bg-nyt-beige-dark text-white scale-95":"bg-nyt-beige-light hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900"}
                    ${t?"transform translate-y-[-100%]":""}
                  `,style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s.word},s.word)}),b&&e.jsx("div",{className:`
                  absolute inset-0 flex justify-center items-center
                  ${I[b.difficulty]} rounded-lg
                  transition-all duration-800
                  ${H?"opacity-0 scale-95":"opacity-100 scale-100"}
                `,style:{zIndex:10},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none space-y-2",children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:b.name}),e.jsx("div",{className:"flex gap-1 sm:gap-2",children:b.words.map(s=>e.jsx("div",{className:"flex items-center justify-center aspect-square px-2 py-1 font-semibold uppercase text-center rounded-md text-gray-900",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s},s))})]})})]}),c.value&&e.jsx("div",{className:"text-center mb-4 font-semibold dark:text-gray-100",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},children:c.value}),!f&&!h&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"text-gray-600 dark:text-gray-300",children:"Mistakes remaining:"}),e.jsx("div",{className:"flex gap-1",children:[...Array(4)].map((s,a)=>e.jsx("div",{style:{width:"clamp(10px, 2vw, 12px)",height:"clamp(10px, 2vw, 12px)"},className:`rounded-full ${a<4-i?"bg-gray-700 dark:bg-gray-300":"bg-gray-300 dark:bg-gray-600"}`},a))})]})}),h&&e.jsxs("div",{className:"flex justify-center mb-6 gap-6 sm:gap-8",children:[e.jsx("button",{onClick:T,className:"btn-primary bg-gradient-to-r from-yellow-400 to-green-500",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"New Game"}),e.jsx("button",{onClick:()=>m(!0),className:"btn-secondary",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"Show Score"})]}),!f&&!h&&(g.length>0||C||b)&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 sm:gap-8 mb-6",children:[e.jsx("button",{onClick:A,className:"btn-control",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Shuffle"}),e.jsx("button",{onClick:$,className:"btn-control",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},disabled:l.length===0,children:"Deselect All"}),e.jsx("button",{onClick:R,className:`btn-control ${l.length===4?"!bg-gray-900 dark:!bg-gray-200 !text-white dark:!text-gray-900 hover:!bg-gray-700 dark:hover:!bg-gray-100":"!bg-gray-300 dark:!bg-gray-600 !text-gray-500 dark:!text-gray-400 cursor-not-allowed"}`,disabled:l.length!==4,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Submit"})]}),f&&!h&&e.jsxs("div",{className:"flex justify-center gap-6 sm:gap-8",children:[e.jsx("button",{onClick:T,className:"btn-primary bg-gradient-to-r from-yellow-400 to-green-500",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"New Game"}),e.jsx("button",{onClick:()=>m(!0),className:"btn-secondary",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"Show Score"})]}),e.jsxs("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),e.jsxs("ul",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})]})]})]})}export{Q as default};
