import{j as e}from"./index-YZf-yqfw.js";import{b as o}from"./vendor-BO-UU5I_.js";import{C as $,H as B}from"./CompletionModal-Cibq4GJM.js";const L=[{name:"The Couple",difficulty:1,words:["SOFIA","JOEL","BRIDE","GROOM"]},{name:"As One",difficulty:2,words:["UNION","TIED","WED","YOKED"]},{name:"Synonyms for Ceremony/Ritual",difficulty:3,words:["CEREMONY","RITUAL","TRADITION","RITE"]},{name:"French Loan Words",difficulty:4,words:["BOUTONNIÃ‰RE","NUPTIAL","BOUQUET","FIANCÃ‰E"]}],p={categories:L},G={1:"bg-nyt-yellow",2:"bg-nyt-green",3:"bg-nyt-blue",4:"bg-nyt-purple"},j="connections-wedding-progress";function V(){const[c,x]=o.useState([]),[a,m]=o.useState([]),[b,S]=o.useState([]),[i,k]=o.useState(0),[I,f]=o.useState(""),[g,y]=o.useState(!1),[R,d]=o.useState(!1),[u,w]=o.useState(!1),[N,C]=o.useState(null),[v,O]=o.useState(null),[P,z]=o.useState(!1),[A,M]=o.useState(!1);o.useEffect(()=>{localStorage.getItem("connections-wedding-how-to-play")||(M(!0),localStorage.setItem("connections-wedding-how-to-play","true"))},[]),o.useEffect(()=>{const s=localStorage.getItem(j);let r=null;if(s){const t=JSON.parse(s),l=t.solved&&t.solved.length===p.categories.length,n=t.words&&t.words.length>0;l||n?r=t:(console.error("Corrupted/Blank save state detected. Starting new game."),localStorage.removeItem(j))}if(r){const t=r;x(t.words||[]),m(t.selected||[]),S(t.solved||[]),k(t.mistakes||0),y(t.isGameOver||!1),w(t.viewOnlyMode||!1),O(null),C(null),(t.solved&&t.solved.length===p.categories.length||t.isGameOver)&&(w(!0),y(!0),d(!1))}else{const t=p.categories.flatMap(l=>l.words.map(n=>({word:n,category:l.name,difficulty:l.difficulty})));x(t.sort(()=>Math.random()-.5)),m([]),S([]),k(0),y(!1),d(!1),w(!1)}},[]),o.useEffect(()=>{(c.length+b.reduce((r,t)=>r+t.words.length,0)===16||g)&&localStorage.setItem(j,JSON.stringify({words:c,selected:a,solved:b,mistakes:i,isGameOver:g,viewOnlyMode:u}))},[c,a,b,i,g,u]);const H=s=>{g||u||(a.includes(s)?m(a.filter(r=>r!==s)):a.length<4&&m([...a,s]))},F=()=>{if(a.length!==4)return;const s=a.map(t=>c.find(l=>l.word===t)),r=[...new Set(s.map(t=>t.category))];if(r.length===1){const t=p.categories.find(l=>l.name===r[0]);f(`Correct! ${t.name}`),C({name:t.name,words:a,difficulty:t.difficulty}),setTimeout(()=>{C(null),O({name:t.name,words:a,difficulty:t.difficulty}),z(!1),setTimeout(()=>z(!0),800),setTimeout(()=>{S(l=>{const n=[...l,{name:t.name,words:a,difficulty:t.difficulty}];return n.length===p.categories.length&&(y(!0),d(!0),f("Congratulations! You solved the puzzle!")),n}),x(l=>l.filter(n=>!a.includes(n.word))),m(()=>[]),O(null),z(!1)},1200)},400),setTimeout(()=>f(""),2e3)}else{const t=i+1;k(t);const l=Math.max(...r.map(n=>s.filter(E=>E.category===n).length));if(f(l===3?"One away...":"Not quite!"),t>=4){y(!0),d(!0),f("Game Over! You ran out of tries.");const n=b.map(h=>h.name),E=p.categories.filter(h=>!n.includes(h.name)).map(h=>({...h,isRevealed:!0}));S(h=>[...h,...E]),x([])}m([]),setTimeout(()=>f(""),2e3)}},D=()=>m([]),U=()=>x([...c].sort(()=>Math.random()-.5)),T=()=>{localStorage.removeItem(j);const s=p.categories.flatMap(r=>r.words.map(t=>({word:t,category:r.name,difficulty:r.difficulty})));x(s.sort(()=>Math.random()-.5)),m([]),S([]),k(0),y(!1),d(!1),w(!1),f("")},W=()=>{d(!1),w(!0)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[e.jsx($,{isOpen:R,icon:i<4?"ðŸŽ‰":"ðŸ˜”",title:i<4?"Congratulations!":"Unlucky!",message:i<4?i===0?"Perfect!":"You did it!":"Better luck next time!",primaryButtonText:"New Game",secondaryButtonText:"Show Puzzle",onPrimaryAction:T,onSecondaryAction:W,primaryButtonGradient:i<4?"from-yellow-400 to-green-500":"from-gray-500 to-gray-700",stats:[{label:"Score",value:`${b.filter(s=>!s.isRevealed).length}/4`,gradient:i<4?"from-yellow-100 to-green-100 dark:from-yellow-900/30 dark:to-green-900/30":"from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700"}]}),e.jsx(B,{isOpen:A,onClose:()=>M(!1),children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})}),e.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[e.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{style:{fontSize:"clamp(2rem, 5vw, 3rem)"},className:"font-bold mb-2 text-gray-900 dark:text-gray-100",children:"Connections"}),e.jsx("p",{style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},className:"text-gray-600 dark:text-gray-300",children:"Wedding Edition"}),e.jsx("p",{style:{fontSize:"clamp(0.55rem, 2vw, 0.75rem)"},className:"text-gray-500 dark:text-gray-400 mt-2",children:"Create four groups of four!"})]}),e.jsx("div",{className:"space-y-2 mb-6",children:b.sort((s,r)=>s.difficulty-r.difficulty).map((s,r)=>e.jsxs("div",{className:`${G[s.difficulty]} rounded-lg animate-slide-in p-2 sm:p-3`,style:{minHeight:"calc(100% / 4)"},children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:s.name}),e.jsx("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:s.words.map(t=>e.jsx("div",{className:"aspect-square flex items-center justify-center font-semibold uppercase bg-nyt-beige-light text-gray-900 rounded-md",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:t},t))})]},r))}),!g&&(c.length>0||N||v)&&e.jsxs("div",{className:"grid grid-cols-4 gap-1.5 sm:gap-2 mb-6 relative",children:[c.map(s=>{const r=a.includes(s.word),t=N?.words.includes(s.word);return e.jsx("button",{onClick:()=>H(s.word),className:`
                    aspect-square flex items-center justify-center
                    p-1.5 sm:p-3 md:p-4 rounded-lg font-semibold uppercase
                    transition-all duration-400
                    ${r?"bg-nyt-beige-dark text-white scale-95":"bg-nyt-beige-light hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900"}
                    ${t?"transform translate-y-[-100%]":""}
                  `,style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s.word},s.word)}),v&&e.jsx("div",{className:`
                  absolute inset-0 flex justify-center items-center
                  ${G[v.difficulty]} rounded-lg
                  transition-all duration-800
                  ${P?"opacity-0 scale-95":"opacity-100 scale-100"}
                `,style:{zIndex:10},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none space-y-2",children:[e.jsx("h3",{className:"font-semibold text-center mb-2 uppercase text-gray-900",children:v.name}),e.jsx("div",{className:"flex gap-1 sm:gap-2",children:v.words.map(s=>e.jsx("div",{className:"flex items-center justify-center aspect-square px-2 py-1 font-semibold uppercase text-center rounded-md text-gray-900",style:{fontSize:"clamp(0.7rem, 2.5vw, 1rem)"},children:s},s))})]})})]}),I&&e.jsx("div",{className:"text-center mb-4 font-semibold dark:text-gray-100",style:{fontSize:"clamp(1rem, 2.5vw, 1.25rem)"},children:I}),!g&&!u&&e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"text-gray-600 dark:text-gray-300",children:"Mistakes remaining:"}),e.jsx("div",{className:"flex gap-1",children:[...Array(4)].map((s,r)=>e.jsx("div",{style:{width:"clamp(10px, 2vw, 12px)",height:"clamp(10px, 2vw, 12px)"},className:`rounded-full ${r<4-i?"bg-gray-700 dark:bg-gray-300":"bg-gray-300 dark:bg-gray-600"}`},r))})]})}),u&&e.jsxs("div",{className:"flex justify-center mb-6 gap-3 sm:gap-4",children:[e.jsx("button",{onClick:T,className:"px-5 sm:px-6 py-2.5 bg-gradient-to-r from-yellow-400 to-green-500 text-white rounded-full font-semibold hover:brightness-110 transition-all transform hover:scale-105 shadow-md",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"New Game"}),e.jsx("button",{onClick:()=>d(!0),className:"px-5 sm:px-6 py-2.5 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"Show Score"})]}),!g&&!u&&(c.length>0||N||v)&&e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-6",children:[e.jsx("button",{onClick:U,className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Shuffle"}),e.jsx("button",{onClick:D,className:"px-4 sm:px-6 py-2 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},disabled:a.length===0,children:"Deselect All"}),e.jsx("button",{onClick:F,className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-colors ${a.length===4?"bg-gray-900 dark:bg-gray-200 text-white dark:text-gray-900 hover:bg-gray-700 dark:hover:bg-gray-100":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:a.length!==4,style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},children:"Submit"})]}),g&&!u&&e.jsxs("div",{className:"flex justify-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:T,className:"px-5 sm:px-6 py-2.5 bg-gradient-to-r from-yellow-400 to-green-500 text-white rounded-full font-semibold hover:brightness-110 transition-all transform hover:scale-105 shadow-md",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"New Game"}),e.jsx("button",{onClick:()=>d(!0),className:"px-5 sm:px-6 py-2.5 bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 rounded-full font-semibold hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",style:{fontSize:"clamp(0.8rem, 2vw, 0.875rem)"},children:"Show Score"})]}),e.jsxs("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h2",{style:{fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)"},className:"font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),e.jsxs("ul",{style:{fontSize:"clamp(0.75rem, 2vw, 0.875rem)"},className:"space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"â€¢ Find groups of four items that share something in common."}),e.jsx("li",{children:"â€¢ Select four items and tap 'Submit' to check if your guess is correct."}),e.jsx("li",{children:"â€¢ Find the groups without making 4 mistakes!"}),e.jsx("li",{children:"â€¢ Category difficulty levels: ðŸŸ¨ Easy â†’ ðŸŸ© Medium â†’ ðŸŸ¦ Hard â†’ ðŸŸª Very Hard"})]})]})]})]})}export{V as default};
