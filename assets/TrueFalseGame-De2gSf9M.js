import{_ as W,j as e}from"./index-oJkx2L23.js";import{b as a}from"./vendor-BO-UU5I_.js";import{C as J,H as V}from"./CompletionModal-D9ACBJVh.js";const y="true-false-wedding-progress",q=100,z=30,Q=500,Z=W(()=>import("./true-false-facts-63jBTtvG.js"),[]).then(s=>(s.default||s).facts);function re(){const s=a.use(Z),[x,j]=a.useState(0),[n,S]=a.useState(0),[g,N]=a.useState([]),[u,p]=a.useState(!1),[_,f]=a.useState(!1),[Y,C]=a.useState(!1),[d,b]=a.useState(!1),[c,k]=a.useState(null),[m,T]=a.useState({x:0,y:0}),[l,E]=a.useState(!1),O=a.useRef({x:0,y:0}),w=a.useRef({x:0,y:0}),I=a.useRef({x:0,y:0}),L=a.useRef(null);a.useEffect(()=>{localStorage.getItem("true-false-wedding-how-to-play")||(C(!0),localStorage.setItem("true-false-wedding-how-to-play","true"))},[]),a.useEffect(()=>{const t=localStorage.getItem(y);if(t)try{const r=JSON.parse(t),o=r.answered&&r.answered.length===s.length,i=r.currentIndex!==void 0&&r.currentIndex<s.length;o||i?(j(r.currentIndex||0),S(r.score||0),N(r.answered||[]),p(r.isGameOver||!1),b(r.viewOnlyMode||!1),o&&(b(!0),p(!0),f(!1))):localStorage.removeItem(y)}catch(r){console.error("Failed to parse save state:",r),localStorage.removeItem(y)}},[s.length]),a.useEffect(()=>{(g.length>0||u)&&localStorage.setItem(y,JSON.stringify({currentIndex:x,score:n,answered:g,isGameOver:u,viewOnlyMode:d}))},[x,n,g,u,d]);const h=t=>{if(u||d)return;const r=s[x],o=t===r.answer;o&&S(n+1);const i=[...g,{factId:r.id,userAnswer:t,correct:o}];N(i),I.current={...w.current},E(!1),k(t?"right":"left"),setTimeout(()=>{k(null),I.current={x:0,y:0},T({x:0,y:0}),x+1>=s.length?(p(!0),f(!0)):j(x+1)},Q)},D=()=>{localStorage.removeItem(y),j(0),S(0),N([]),p(!1),f(!1),b(!1),k(null)},X=()=>{f(!1),b(!0)},$=t=>{if(u||d||c)return;const r=t.type==="touchstart"?t.touches[0].clientX:t.clientX,o=t.type==="touchstart"?t.touches[0].clientY:t.clientY;O.current={x:r,y:o},E(!0)},H=t=>{if(!l)return;const r=t.type==="touchmove"?t.touches[0].clientX:t.clientX,o=t.type==="touchmove"?t.touches[0].clientY:t.clientY,i=r-O.current.x,M=o-O.current.y,G={x:i,y:M};w.current=G,T(G)},R=()=>{if(!l)return;E(!1);const t=w.current.x;Math.abs(t)>=q&&h(t>0),w.current={x:0,y:0},T({x:0,y:0})},U=()=>{if(c){const t=I.current,r=t.x/20;return`translate(${t.x}px, ${t.y*.3}px) rotate(${r}deg)`}if(l){const t=m.x/20;return`translate(${m.x}px, ${m.y*.3}px) rotate(${t}deg)`}return"translate(0, 0) rotate(0deg)"},B=()=>c?1:l?Math.max(.5,1-Math.abs(m.x)/300):1,K=l&&Math.abs(m.x)>=z,A=m.x>0?"true":"false",P=s[x],v=g.length,F=s.length;return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 sm:py-8 px-3 sm:px-4",children:[e.jsx(J,{isOpen:_,icon:n>=s.length*.7?"ðŸŽ‰":n>=s.length*.5?"ðŸ˜Š":"ðŸ˜”",title:n>=s.length*.7?"Well Done!":n>=s.length*.5?"Not Bad!":"Keep Trying!",message:n===s.length?"Perfect score!":`You got ${n} out of ${s.length} correct!`,primaryButtonText:"New Game",secondaryButtonText:"Show Results",onPrimaryAction:D,onSecondaryAction:X,primaryButtonGradient:"from-green-400 to-red-700",stats:[{label:"Score",value:`${n}/${s.length}`,gradient:n>=s.length*.7?"from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30":n>=s.length*.5?"from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30":"from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700"}]}),e.jsx(V,{isOpen:Y,onClose:()=>C(!1),children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:"â€¢ Read each fact about the couple carefully."}),e.jsx("li",{children:"â€¢ Decide if the statement is TRUE or FALSE."}),e.jsx("li",{children:"â€¢ Click the True (green) or False (red) button."}),e.jsx("li",{children:"â€¢ Or swipe right for True or left for False."}),e.jsx("li",{children:"â€¢ See how many you can get correct!"})]})}),e.jsxs("div",{className:"w-full max-w-[min(96vw,650px)] mx-auto",children:[e.jsxs("header",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("h1",{className:"text-responsive-h1 font-bold mb-2 text-gray-900 dark:text-gray-100",children:"True or False"}),e.jsx("p",{className:"text-responsive-body text-gray-600 dark:text-gray-300",children:"Wedding Edition"}),e.jsx("p",{className:"text-responsive-sm text-gray-500 dark:text-gray-400 mt-2",children:"Guess the facts about the couple!"})]}),!d&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center gap-3",children:e.jsxs("span",{className:"text-responsive-base text-gray-600 dark:text-gray-300 font-semibold",children:["Fact ",v==F?v:v+1," of ",F]})}),e.jsx("div",{className:"w-full max-w-xs mx-auto mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-blue-500 transition-all duration-300",style:{width:`${v/F*100}%`}})})]}),!u&&!d&&P&&e.jsx("div",{className:"relative mb-8",style:{minHeight:"400px"},children:e.jsxs("div",{ref:L,role:"region","aria-label":"Interactive question card - swipe right for True, left for False",tabIndex:0,className:`
                absolute inset-0 mx-auto max-w-md
                bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8
                flex items-center justify-center
                cursor-grab active:cursor-grabbing
                focus:outline-none focus:ring-2 focus:ring-blue-500
                ${c==="left"?"animate-swipe-left":""}
                ${c==="right"?"animate-swipe-right":""}
                ${l?"scale-105":""}
              `,style:{transform:U(),opacity:B(),transition:c||!l?"transform 0.5s ease-out, opacity 0.5s ease-out":"none",touchAction:"none",userSelect:"none"},onMouseDown:$,onMouseMove:H,onMouseUp:R,onMouseLeave:R,onTouchStart:$,onTouchMove:H,onTouchEnd:R,onKeyDown:t=>{t.key==="ArrowRight"||t.key==="t"||t.key==="T"?h(!0):(t.key==="ArrowLeft"||t.key==="f"||t.key==="F")&&h(!1)},children:[e.jsx("p",{style:{fontSize:"clamp(1.25rem, 3vw, 1.75rem)"},className:"text-gray-900 dark:text-gray-100 font-semibold text-center leading-relaxed",children:P.statement}),K&&e.jsx("div",{className:`
                  absolute inset-0 rounded-2xl flex items-center justify-center
                  ${A==="true"?"bg-green-500/20":"bg-red-500/20"}
                  pointer-events-none transition-opacity duration-200
                `,children:e.jsx("div",{className:`
                    text-6xl font-bold
                    ${A==="true"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}
                  `,children:A==="true"?"âœ“ TRUE":"âœ— FALSE"})})]})}),!u&&!d&&e.jsxs("div",{className:"flex justify-center gap-6 sm:gap-8 mb-6",children:[e.jsx("button",{onClick:()=>h(!1),className:"btn-false text-responsive-base",disabled:l||c!==null,"aria-disabled":l||c!==null,"aria-label":"Answer False",children:"âœ— False"}),e.jsx("button",{onClick:()=>h(!0),className:"btn-true text-responsive-base",disabled:l||c!==null,"aria-disabled":l||c!==null,"aria-label":"Answer True",children:"âœ“ True"})]}),d&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("h2",{className:"text-responsive-h2 font-bold text-center mb-6 text-gray-900 dark:text-gray-100",children:["Your Results: ",n,"/",s.length]}),s.map((t,r)=>{const o=g.find(M=>M.factId===t.id),i=o?.correct;return e.jsx("div",{className:`
                    p-4 sm:p-6 rounded-lg
                    ${i?"bg-green-50 dark:bg-green-900/20 border-2 border-green-500":"bg-red-50 dark:bg-red-900/20 border-2 border-red-500"}
                  `,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`
                      text-2xl flex-shrink-0
                      ${i?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}
                    `,children:i?"âœ“":"âœ—"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-responsive-base text-gray-900 dark:text-gray-100 mb-2",children:t.statement}),e.jsxs("p",{className:"text-responsive-base text-gray-600 dark:text-gray-400",children:["Correct answer: ",e.jsx("span",{className:"font-semibold",children:t.answer?"TRUE":"FALSE"}),o&&e.jsxs("span",{className:"ml-2",children:["â€¢ You answered: ",e.jsx("span",{className:"font-semibold",children:o.userAnswer?"TRUE":"FALSE"})]})]})]})]})},t.id)}),e.jsxs("div",{className:"flex justify-center gap-6 sm:gap-8 mt-8",children:[e.jsx("button",{onClick:D,className:"btn-primary bg-gradient-to-r from-green-400 to-red-700 text-responsive-base",children:"New Game"}),e.jsx("button",{onClick:()=>f(!0),className:"btn-secondary text-responsive-base",children:"Show Score"})]})]}),e.jsxs("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-responsive-h2 font-bold mb-3 text-gray-900 dark:text-gray-100",children:"How to Play"}),e.jsxs("ul",{className:"text-responsive-base space-y-2 text-gray-700 dark:text-gray-300",children:[e.jsx("li",{children:"â€¢ Read each fact about the couple carefully."}),e.jsx("li",{children:"â€¢ Decide if the statement is TRUE or FALSE."}),e.jsx("li",{children:"â€¢ Click the True (green) or False (red) button."}),e.jsx("li",{children:"â€¢ Or swipe right for True or left for False."}),e.jsx("li",{children:"â€¢ See how many you can get correct!"})]})]})]})]})}export{re as default};
